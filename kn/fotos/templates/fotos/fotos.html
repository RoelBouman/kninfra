{% extends "base/base.html" %}

{% load base %}

{% block head %}
{{ block.super }}
<script type="text/javascript" src="{{ MEDIA_URL }}/fotos/jquery.lazyloadxt.extra.min.js"></script>
<script type="text/javascript" src="{{ MEDIA_URL }}/fotos/fotos.js?v=2">
</script>
<script type="text/javascript">
'use strict';
expandHeader = false;
// initial data to prevent one API request
var fotos = {{ fotos|json }};
var fotos_root = "{% url fotos '' %}";
var fotos_api_url = "{% url fotos-api %}";
// Initialize Lazy Load XT
$.extend($.lazyLoadXT, {
  autoInit: false,
  selector: '#fotos img.lazy',
  edgeY: 500,
});
$.lazyLoadXT.onshow = undefined;
if ('srcset' in (new Image())) {
  $.lazyLoadXT.onshow = function () {
    var el = $(this);
    el.attr('srcset', el.attr('data-srcset'));
  };
}
</script>
{% endblock head%}

{% block styles %}
{{ block.super }}
<link rel="stylesheet" type="text/css"
        href="{{ MEDIA_URL }}/fotos/fotos.css" />
{% endblock styles %}

{% block body %}
<div id="breadcrumbs"></div>
{% if fotos_admin %}
<div id="album-edit">
  <form>
    <input id="album-title" type="text" name="album-title" title="Album titel"
      oninput="$('#album-edit-button').prop('disabled', false)"/>
    <button id="album-edit-button" disabled>Ok</button>
  </form>
</div>
{% endif %}
<ul id="fotos"></ul>
<div id="foto">
<div></div>
</div>
{% endblock body %}
